{"ast":null,"code":"import _defineProperty from \"C:\\\\Users\\\\Vijaypal\\\\Documents\\\\GitHub\\\\bookhub\\\\website\\\\bookhub_frontend\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/defineProperty\";\nvar _jsxFileName = \"C:\\\\Users\\\\Vijaypal\\\\Documents\\\\GitHub\\\\bookhub\\\\website\\\\bookhub_frontend\\\\src\\\\pages\\\\login\\\\login.js\";\n\nfunction ownKeys(object, enumerableOnly) { var keys = Object.keys(object); if (Object.getOwnPropertySymbols) { var symbols = Object.getOwnPropertySymbols(object); if (enumerableOnly) symbols = symbols.filter(function (sym) { return Object.getOwnPropertyDescriptor(object, sym).enumerable; }); keys.push.apply(keys, symbols); } return keys; }\n\nfunction _objectSpread(target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i] != null ? arguments[i] : {}; if (i % 2) { ownKeys(source, true).forEach(function (key) { _defineProperty(target, key, source[key]); }); } else if (Object.getOwnPropertyDescriptors) { Object.defineProperties(target, Object.getOwnPropertyDescriptors(source)); } else { ownKeys(source).forEach(function (key) { Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key)); }); } } return target; }\n\nimport React, { Component } from 'react';\nimport './login.css';\nimport 'bootstrap/dist/css/bootstrap.min.css';\nimport { Link, Redirect } from 'react-router-dom';\n\nclass Login extends Component {\n  constructor(props) {\n    super(props);\n\n    this.renderdb = e => {\n      if (e.email === this.state.user.email) {\n        return e.password;\n      }\n    };\n\n    this.logIn = _ => {\n      const _this$state = this.state,\n            login = _this$state.login,\n            user = _this$state.user,\n            dbuser = _this$state.dbuser;\n      this.getP();\n      console.log(dbuser);\n      console.log(dbuser.map(this.renderdb));\n\n      if (dbuser.map(this.renderdb) === this.state.user.password) {\n        this.setState({\n          validate: true\n        });\n      }\n    };\n\n    this.state = {\n      login: false,\n      pass: '',\n      validate: false,\n      dbuser: [],\n      user: {\n        email: '',\n        password: ''\n      }\n    };\n  }\n\n  render() {\n    const user = this.state.user;\n\n    if (this.state.validate) {\n      return React.createElement(Redirect, {\n        push: true,\n        to: \"/main\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 25\n        },\n        __self: this\n      });\n    }\n\n    return React.createElement(\"div\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 29\n      },\n      __self: this\n    }, React.createElement(\"div\", {\n      className: \"logo rounded mx-auto d-block\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 30\n      },\n      __self: this\n    }, React.createElement(\"img\", {\n      width: \"200\",\n      height: \"200\",\n      src: \"https://upload.wikimedia.org/wikipedia/en/thumb/e/ec/San_Jose_State_Spartans_logo.svg/378px-San_Jose_State_Spartans_logo.svg.png\",\n      alt: \"SJSU SAMMY\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 31\n      },\n      __self: this\n    }), React.createElement(\"p\", {\n      className: \"h3 mb-3 text-center font-weight-bold\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 33\n      },\n      __self: this\n    }, \"SJSU Bookhub\"), React.createElement(\"h1\", {\n      className: \"text-center h4 mb-3 font-weight-normal\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 34\n      },\n      __self: this\n    }, \"Sign In\"), React.createElement(\"label\", {\n      htmlFor: \"inputEmail\",\n      className: \"sr-only\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 35\n      },\n      __self: this\n    }, \"Email address\"), React.createElement(\"input\", {\n      type: \"email\",\n      id: \"inputEmail\",\n      className: \"form-control\",\n      onChange: e => this.setState({\n        user: _objectSpread({}, user, {\n          email: e.target.value\n        })\n      }),\n      placeholder: \"Email address\",\n      required: true,\n      autoFocus: true,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 36\n      },\n      __self: this\n    }), React.createElement(\"label\", {\n      htmlFor: \"inputPassword\",\n      className: \"sr-only\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 37\n      },\n      __self: this\n    }, \"Password\"), React.createElement(\"input\", {\n      type: \"password\",\n      id: \"inputPassword\",\n      className: \"form-control\",\n      onChange: e => this.setState({\n        user: _objectSpread({}, user, {\n          password: e.target.value\n        })\n      }),\n      placeholder: \"Password\",\n      required: true,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 38\n      },\n      __self: this\n    }), React.createElement(\"div\", {\n      className: \"checkbox mb-3\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 39\n      },\n      __self: this\n    }, React.createElement(\"label\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 40\n      },\n      __self: this\n    }, React.createElement(\"input\", {\n      type: \"checkbox\",\n      value: \"remember-me\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 41\n      },\n      __self: this\n    }), \" Remember me\")), React.createElement(\"button\", {\n      className: \"btn btn-lg btn-primary btn-block\",\n      onClick: this.getP(),\n      type: \"submit\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 44\n      },\n      __self: this\n    }, \"Sign in\"), React.createElement(\"div\", {\n      className: \"mb-3\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 45\n      },\n      __self: this\n    }, \"Need an account? \\xA0\", React.createElement(Link, {\n      to: \"/signup\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 47\n      },\n      __self: this\n    }, \"Sign up\")), React.createElement(\"p\", {\n      className: \"mt-5 mb-3 text-muted\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 51\n      },\n      __self: this\n    }, \"\\xA9 SJSU 2019\")));\n  }\n\n  getP() {\n    const _this$state2 = this.state,\n          login = _this$state2.login,\n          user = _this$state2.user,\n          dbuser = _this$state2.dbuser;\n    console.log(this.state.user.email);\n    console.log(this.state.user.password);\n    return fetch(\"http://localhost:4000/login?email=\".concat(user.email)).then(res => res.json()).then(res => this.setState({\n      dbuser: res.data\n    })).catch(err => console.error(err));\n  }\n\n}\n\nexport default Login;","map":{"version":3,"sources":["C:/Users/Vijaypal/Documents/GitHub/bookhub/website/bookhub_frontend/src/pages/login/login.js"],"names":["React","Component","Link","Redirect","Login","constructor","props","renderdb","e","email","state","user","password","logIn","_","login","dbuser","getP","console","log","map","setState","validate","pass","render","target","value","fetch","then","res","json","data","catch","err","error"],"mappings":"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","sourcesContent":["import React, { Component } from 'react';\nimport './login.css';\nimport 'bootstrap/dist/css/bootstrap.min.css';\nimport {Link,Redirect} from 'react-router-dom';\n\nclass Login extends Component {\n\n  constructor(props){\n    super(props);\n    this.state = {\n        login: false,\n        pass: '',\n        validate: false,\n        dbuser: [],\n        user:{\n            email: '',\n            password: ''\n        }   \n     }\n  } \n\n  render(){\n    const {user} = this.state;\n    if (this.state.validate) {\n      return <Redirect push to=\"/main\" />;\n    }\n\n    return (\n      <div>\n        <div className = \"logo rounded mx-auto d-block\">\n            <img width=\"200\" height=\"200\" src=\"https://upload.wikimedia.org/wikipedia/en/thumb/e/ec/San_Jose_State_Spartans_logo.svg/378px-San_Jose_State_Spartans_logo.svg.png\"\n            alt = \"SJSU SAMMY\"/>\n        <p className=\"h3 mb-3 text-center font-weight-bold\">SJSU Bookhub</p>\n          <h1 className=\"text-center h4 mb-3 font-weight-normal\">Sign In</h1>\n          <label htmlFor=\"inputEmail\" className=\"sr-only\">Email address</label>\n          <input type=\"email\" id=\"inputEmail\" className=\"form-control\"  onChange={e =>this.setState({user:{...user,email: e.target.value}})}  placeholder=\"Email address\" required autoFocus></input>\n          <label htmlFor=\"inputPassword\" className=\"sr-only\">Password</label>\n          <input type=\"password\" id=\"inputPassword\" className=\"form-control\" onChange={e =>this.setState({user:{...user,password: e.target.value}})} placeholder=\"Password\" required></input>\n          <div className=\"checkbox mb-3\">\n            <label>\n              <input type=\"checkbox\" value=\"remember-me\"/> Remember me\n            </label>\n          </div>\n          <button className=\"btn btn-lg btn-primary btn-block\" onClick={this.getP()} type=\"submit\">Sign in</button>\n          <div className=\"mb-3\">\n            Need an account? &nbsp;\n            <Link to=\"/signup\">\n               Sign up\n            </Link>\n          </div>\n          <p className=\"mt-5 mb-3 text-muted\">&copy; SJSU 2019</p>\n        </div>\n      </div>\n    );\n  }\n\n  \nrenderdb= (e) => {\n  if(e.email === this.state.user.email){\n   return(e.password);\n  }\n}\n\n getP(){\n   const {login,user,dbuser} = this.state;\n   console.log(this.state.user.email);\n   console.log(this.state.user.password);\n    return fetch(`http://localhost:4000/login?email=${user.email}`)\n    .then(res => res.json())\n    .then(res => this.setState({dbuser: res.data}))\n    .catch(err => console.error(err));\n}\n\nlogIn =  _ => {\n  const {login, user, dbuser} = this.state;\n  this.getP();\n  console.log(dbuser);\n  console.log(dbuser.map(this.renderdb));\n  if(dbuser.map(this.renderdb) === this.state.user.password){\n    this.setState({validate: true});\n  }\n}\n}\n\nexport default Login;\n"]},"metadata":{},"sourceType":"module"}