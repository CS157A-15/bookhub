{"ast":null,"code":"import _slicedToArray from \"C:\\\\Users\\\\xinru\\\\Documents\\\\bookhub\\\\website\\\\bookhub_frontend\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/slicedToArray\";\nvar _jsxFileName = \"C:\\\\Users\\\\xinru\\\\Documents\\\\bookhub\\\\website\\\\bookhub_frontend\\\\src\\\\pages\\\\main\\\\main.js\";\nimport React, { Component, useState } from 'react';\nimport './main.css';\nimport 'bootstrap/dist/css/bootstrap.min.css';\nimport { Link } from 'react-router-dom';\nimport { Redirect } from 'react-router';\nimport { MDBBtn, MDBCard, MDBCardBody, MDBCardImage, MDBCardTitle, MDBCardText, MDBCol } from 'mdbreact';\nimport Navbar from './navbar/navbar';\nimport Collapse from 'react-bootstrap/Collapse';\nimport Button from 'react-bootstrap/Button';\n\nclass Main extends Component {\n  constructor(props) {\n    super(props);\n\n    this.getBooks = async _ => {\n      await fetch('http://localhost:4000/books').then(res => res.json()).then(res => this.setState({\n        books: res.data\n      })).catch(err => console.error(err));\n    };\n\n    this.getDepartments = async _ => {\n      await fetch('http://localhost:4000/department').then(res => res.json()).then(res => this.setState({\n        depts: res.data\n      })).catch(err => console.error(err));\n    };\n\n    this.getDropdownList = async _ => {\n      await fetch('http://localhost:4000/dropdownlist').then(res => res.json()).then(res => this.setState({\n        dropdownlist: res.data\n      })).catch(err => console.error(err));\n    };\n\n    this.renderDepartments = ({\n      dept_name,\n      chair,\n      building\n    }) => React.createElement(\"div\", {\n      key: dept_name,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 51\n      },\n      __self: this\n    }, React.createElement(\"li\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 52\n      },\n      __self: this\n    }, React.createElement(\"a\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 53\n      },\n      __self: this\n    }, dept_name)));\n\n    this.collapseButton = ({\n      button_name,\n      collapse_content\n    }) => {\n      const _useState = useState(false),\n            _useState2 = _slicedToArray(_useState, 2),\n            open = _useState2[0],\n            setOpen = _useState2[1];\n\n      return React.createElement(React.Fragment, null, React.createElement(Button, {\n        onClick: () => setOpen(!open),\n        \"aria-controls\": \"example-collapse-text\",\n        \"aria-expanded\": open,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 61\n        },\n        __self: this\n      }, button_name), React.createElement(Collapse, {\n        in: open,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 66\n        },\n        __self: this\n      }, React.createElement(\"div\", {\n        id: \"example-collapse-text\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 67\n        },\n        __self: this\n      }, \"hi \")));\n    };\n\n    this.renderDropdown = () => {\n      let dropdown = this.state.dropdownlist;\n      console.log(this.state.dropdownlist);\n      let dept = \"blah\";\n      let dropdown_div;\n      let button_list = []; // let ul_array = [];\n\n      let li_array = [];\n\n      if (dropdown.length > 0) {\n        for (let i = 0; i < dropdown.length; i++) {\n          console.log(dropdown[i].dept_name);\n\n          if (dropdown[i].dept_name !== dept) {\n            //if not equal to dept name add classes of prev dep & set dept to current dept name\n            //getting the previous ul and adding the list items to it before creating\n            //another unordered list\n            dept = dropdown[i].dept_name;\n            li_array = [];\n            li_array.push(React.createElement(\"div\", {\n              __source: {\n                fileName: _jsxFileName,\n                lineNumber: 92\n              },\n              __self: this\n            }, React.createElement(\"li\", {\n              id: dropdown[i].course_name,\n              class: dept,\n              __source: {\n                fileName: _jsxFileName,\n                lineNumber: 92\n              },\n              __self: this\n            }, \" \", React.createElement(\"a\", {\n              __source: {\n                fileName: _jsxFileName,\n                lineNumber: 92\n              },\n              __self: this\n            }, dropdown[i].course_name, \" \")), \" \"));\n            console.log(\"li_array\");\n            console.log(li_array);\n            button_list.push(React.createElement(\"collapseButton\", {\n              button_name: dept,\n              collapse_content: React.createElement(\"ul\", {\n                class: \"list-unstyled components\",\n                __source: {\n                  fileName: _jsxFileName,\n                  lineNumber: 95\n                },\n                __self: this\n              }, li_array),\n              __source: {\n                fileName: _jsxFileName,\n                lineNumber: 95\n              },\n              __self: this\n            })); // ul_array.push(li_array);\n            // console.log(\"ul_array\");\n            // console.log(ul_array);\n          } else {\n            //if the dept name does not change. keep on adding classes under that name\n            // console.log(this.createLi(dropdown,i));\n            li_array.push(React.createElement(\"div\", {\n              __source: {\n                fileName: _jsxFileName,\n                lineNumber: 103\n              },\n              __self: this\n            }, React.createElement(\"li\", {\n              id: dropdown[i].course_name,\n              class: dept,\n              __source: {\n                fileName: _jsxFileName,\n                lineNumber: 103\n              },\n              __self: this\n            }, React.createElement(\"a\", {\n              __source: {\n                fileName: _jsxFileName,\n                lineNumber: 103\n              },\n              __self: this\n            }, dropdown[i].course_name, \" \")), \" \"));\n            console.log(\"li_array\");\n            console.log(li_array);\n          }\n        } // dropdown_div = ul_array.map(x => <ul class=\"list-unstyled components\">{x}</ul>);\n\n      }\n\n      return React.createElement(\"collapseButton\", {\n        button_name: \"CS\",\n        collapse_content: \"hi\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 113\n        },\n        __self: this\n      });\n    };\n\n    this.renderBooks = ({\n      list_id,\n      title,\n      edition,\n      isbn,\n      price,\n      book_type,\n      book_condition\n    }) => React.createElement(\"div\", {\n      className: \"card-inline\",\n      key: list_id,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 121\n      },\n      __self: this\n    }, React.createElement(MDBCol, {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 122\n      },\n      __self: this\n    }, React.createElement(MDBCard, {\n      style: {\n        width: \"17rem\"\n      },\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 123\n      },\n      __self: this\n    }, React.createElement(MDBCardImage, {\n      className: \"img-fluid\",\n      src: \"https://www.qualtrics.com/m/assets/blog/wp-content/uploads/2018/08/shutterstock_1068141515.jpg\",\n      waves: true,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 124\n      },\n      __self: this\n    }), React.createElement(MDBCardBody, {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 125\n      },\n      __self: this\n    }, React.createElement(MDBCardTitle, {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 126\n      },\n      __self: this\n    }, title), React.createElement(MDBCardText, {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 127\n      },\n      __self: this\n    }, \"Edition: \", edition, \", ISBN: \", isbn), React.createElement(\"ul\", {\n      className: \"list-group list-group-flush\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 130\n      },\n      __self: this\n    }, React.createElement(\"li\", {\n      className: \"list-group-item\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 131\n      },\n      __self: this\n    }, \" Book Type: \", book_type), React.createElement(\"li\", {\n      className: \"list-group-item\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 132\n      },\n      __self: this\n    }, \" Book Condition: \", book_condition), React.createElement(\"li\", {\n      className: \"list-group-item\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 133\n      },\n      __self: this\n    }, \" Price: $\", price)), React.createElement(MDBBtn, {\n      class: \"btn btn-primary\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 135\n      },\n      __self: this\n    }, \"Contact\")))));\n\n    this.state = {\n      books: [],\n      depts: [],\n      courses: [],\n      dropdownlist: []\n    };\n  }\n\n  componentDidMount() {\n    this.getBooks();\n    this.getDepartments();\n    this.getDropdownList();\n  }\n\n  render() {\n    return React.createElement(\"div\", {\n      class: \"wrapper\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 143\n      },\n      __self: this\n    }, React.createElement(\"nav\", {\n      id: \"sidebar\",\n      align: \"center\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 144\n      },\n      __self: this\n    }, React.createElement(\"div\", {\n      class: \"sidebar-header\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 145\n      },\n      __self: this\n    }, React.createElement(\"img\", {\n      class: \"center\",\n      width: \"100\",\n      height: \"100\",\n      src: \"https://upload.wikimedia.org/wikipedia/en/thumb/e/ec/San_Jose_State_Spartans_logo.svg/378px-San_Jose_State_Spartans_logo.svg.png\",\n      alt: \"SJSU SAMMY\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 146\n      },\n      __self: this\n    }), React.createElement(\"h3\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 147\n      },\n      __self: this\n    }, \"Bookhub\")), React.createElement(\"ul\", {\n      class: \"list-unstyled CTAs\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 149\n      },\n      __self: this\n    }, React.createElement(\"li\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 150\n      },\n      __self: this\n    }, React.createElement(\"button\", {\n      type: \"button\",\n      class: \"btn btn-light\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 151\n      },\n      __self: this\n    }, \"Add Book\"))), React.createElement(\"ul\", {\n      class: \"list-unstyled components\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 154\n      },\n      __self: this\n    }, React.createElement(\"p\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 155\n      },\n      __self: this\n    }, \"Categories\"), this.state.depts.map(this.renderDepartments)), React.createElement(\"collapseButton\", {\n      button_name: \"CS\",\n      collapse_content: \"hi\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 159\n      },\n      __self: this\n    })), React.createElement(\"div\", {\n      id: \"content\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 164\n      },\n      __self: this\n    }, React.createElement(Navbar, {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 165\n      },\n      __self: this\n    }), React.createElement(\"div\", {\n      className: \"card-inline\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 167\n      },\n      __self: this\n    }, this.state.books.map(this.renderBooks))));\n  }\n\n}\n\nexport default Main;","map":{"version":3,"sources":["C:/Users/xinru/Documents/bookhub/website/bookhub_frontend/src/pages/main/main.js"],"names":["React","Component","useState","Link","Redirect","MDBBtn","MDBCard","MDBCardBody","MDBCardImage","MDBCardTitle","MDBCardText","MDBCol","Navbar","Collapse","Button","Main","constructor","props","getBooks","_","fetch","then","res","json","setState","books","data","catch","err","console","error","getDepartments","depts","getDropdownList","dropdownlist","renderDepartments","dept_name","chair","building","collapseButton","button_name","collapse_content","open","setOpen","renderDropdown","dropdown","state","log","dept","dropdown_div","button_list","li_array","length","i","push","course_name","renderBooks","list_id","title","edition","isbn","price","book_type","book_condition","width","courses","componentDidMount","render","map"],"mappings":"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","sourcesContent":["import React, { Component, useState} from 'react';\nimport './main.css';\nimport 'bootstrap/dist/css/bootstrap.min.css';\nimport {Link} from 'react-router-dom';\nimport { Redirect } from 'react-router';\nimport { MDBBtn, MDBCard, MDBCardBody, MDBCardImage, MDBCardTitle, MDBCardText, MDBCol } from 'mdbreact';\nimport Navbar from './navbar/navbar';\nimport Collapse from 'react-bootstrap/Collapse';\nimport Button from 'react-bootstrap/Button';\n\n\nclass Main extends Component {\n    constructor(props){\n        super(props);\n        this.state = {\n            books:[],\n            depts:[],\n            courses:[],\n            dropdownlist:[]\n        }\n    }\n\n    componentDidMount(){\n        this.getBooks();\n        this.getDepartments();\n        this.getDropdownList();\n      }\n\n    getBooks = async _ => {\n        await fetch('http://localhost:4000/books')\n        .then(res => res.json())\n        .then(res => this.setState({books: res.data}))\n        .catch(err => console.error(err))\n    }\n\n    getDepartments = async _ => {\n       await fetch('http://localhost:4000/department')\n        .then(res => res.json())\n        .then(res => this.setState({depts: res.data}))\n        .catch(err => console.error(err))\n    }\n\n    getDropdownList = async _ => {\n        await fetch('http://localhost:4000/dropdownlist')\n         .then(res => res.json())\n         .then(res => this.setState({dropdownlist: res.data}))\n         .catch(err => console.error(err))\n     }\n\n    renderDepartments = ({dept_name, chair, building}) =>\n    <div key = {dept_name}>\n        <li>\n            <a >{dept_name}</a>\n        </li>\n    </div>\n\n    collapseButton = ({button_name, collapse_content}) => {\n        const [open, setOpen] = useState(false);\n        return (\n            <>\n                <Button \n                    onClick ={() => setOpen(!open)}\n                    aria-controls=\"example-collapse-text\"\n                    aria-expanded={open}\n                >{button_name}</Button>\n                <Collapse in={open}>\n                    <div id=\"example-collapse-text\">\n                     hi {/* {collapse_content} */}\n                    </div>\n                </Collapse>\n            </>\n        );\n    }\n\n    renderDropdown = () => {\n        let dropdown = this.state.dropdownlist;\n        console.log(this.state.dropdownlist)\n        let dept = \"blah\";\n        let dropdown_div;\n        let button_list = [];\n        // let ul_array = [];\n        let li_array = [];\n        if(dropdown.length > 0) {\n            for(let i = 0; i < dropdown.length; i++){\n                console.log(dropdown[i].dept_name);\n                if(dropdown[i].dept_name !== dept){\n                    //if not equal to dept name add classes of prev dep & set dept to current dept name\n                    //getting the previous ul and adding the list items to it before creating\n                    //another unordered list\n                    dept = dropdown[i].dept_name;\n                    li_array = [];\n                    li_array.push(<div><li id={dropdown[i].course_name} class={dept}> <a>{dropdown[i].course_name} </a></li> </div>);\n                    console.log(\"li_array\");\n                    console.log(li_array);\n                    button_list.push(<collapseButton button_name={dept} collapse_content={<ul class=\"list-unstyled components\">{li_array}</ul>}/>)\n                    // ul_array.push(li_array);\n                    // console.log(\"ul_array\");\n                    // console.log(ul_array);\n                    \n                        \n                } else { //if the dept name does not change. keep on adding classes under that name\n                    // console.log(this.createLi(dropdown,i));\n                    li_array.push(<div><li id={dropdown[i].course_name} class={dept}><a>{dropdown[i].course_name} </a></li> </div>);\n                    console.log(\"li_array\");\n                    console.log(li_array);\n                    \n                }\n            }\n            // dropdown_div = ul_array.map(x => <ul class=\"list-unstyled components\">{x}</ul>);\n        }\n\n        return (\n            <collapseButton button_name=\"CS\" collapse_content=\"hi\"/>\n        );\n    }\n\n    \n\n    \n    renderBooks = ({list_id, title, edition, isbn, price,book_type,book_condition}) => \n        <div className=\"card-inline\" key = {list_id}>\n            <MDBCol>\n            <MDBCard style={{ width: \"17rem\" }}>\n                <MDBCardImage className=\"img-fluid\" src=\"https://www.qualtrics.com/m/assets/blog/wp-content/uploads/2018/08/shutterstock_1068141515.jpg\" waves />\n                <MDBCardBody>\n                <MDBCardTitle>{title}</MDBCardTitle>\n                <MDBCardText>\n                    Edition: {edition}, ISBN: {isbn}\n                </MDBCardText>\n                <ul className=\"list-group list-group-flush\">\n                    <li className=\"list-group-item\"> Book Type: {book_type}</li>\n                    <li className=\"list-group-item\"> Book Condition: {book_condition}</li>\n                    <li className=\"list-group-item\"> Price: ${price}</li>\n                </ul>\n                <MDBBtn class=\"btn btn-primary\">Contact</MDBBtn>\n                </MDBCardBody>\n            </MDBCard>\n            </MDBCol>\n        </div>\n\n    render(){\n        return (\n            <div class=\"wrapper\">\n                <nav id=\"sidebar\" align=\"center\">\n                <div class=\"sidebar-header\">\n                    <img  class=\"center\" width=\"100\" height=\"100\" src=\"https://upload.wikimedia.org/wikipedia/en/thumb/e/ec/San_Jose_State_Spartans_logo.svg/378px-San_Jose_State_Spartans_logo.svg.png\" alt = \"SJSU SAMMY\"/>\n                    <h3>Bookhub</h3>\n                </div>\n                <ul class=\"list-unstyled CTAs\">\n                    <li>\n                        <button type=\"button\" class=\"btn btn-light\">Add Book</button>\n                    </li>\n                </ul>\n                <ul class=\"list-unstyled components\">\n                    <p>Categories</p>\n                    {this.state.depts.map(this.renderDepartments)}\n                </ul>\n                \n                <collapseButton button_name=\"CS\" collapse_content=\"hi\"/>\n                \n            </nav>\n    \n            {/* <!-- Page Content  --> */}\n            <div id=\"content\">\n               <Navbar/>\n            {/* <h1> Welcome to SJSU Bookhub, {this.props.location.state.username} </h1> */}\n            <div className=\"card-inline\">\n                {this.state.books.map(this.renderBooks)}\n            </div>\n            </div>\n        </div>\n        );\n    }\n}\n\nexport default Main;\n"]},"metadata":{},"sourceType":"module"}